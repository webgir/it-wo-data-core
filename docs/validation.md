# –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö IWDC

IWDC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏.

## 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ JSON Schema

### –°—Ç—Ä–æ–≥–∏–µ —Å—Ö–µ–º—ã

–í—Å–µ JSON-—Ñ–∞–π–ª—ã –≤ IWDC –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–º JSON Schema (Draft 2020-12):

- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `required`
- **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã** ‚Äî —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å—Ç—Ä–æ–∫
- **–î–∏–∞–ø–∞–∑–æ–Ω—ã** ‚Äî `minimum`/`maximum` –¥–ª—è —á–∏—Å–µ–ª
- **–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è** ‚Äî `enum` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- **–ó–∞–ø—Ä–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–æ–ª–µ–π** ‚Äî `additionalProperties: false`

### –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

- `schemas/model.schema.json` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
- `schemas/length.schema.json` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω
- `schemas/series.schema.json` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä–∏–π

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–°–∫—Ä–∏–ø—Ç `scripts/validate-schema.mjs`:

```bash
node scripts/validate-schema.mjs
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ JSON-—Ñ–∞–π–ª—ã –∏–∑ `data/json/models/` –∏ `data/json/lengths/`
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Ö–µ–º–µ
- –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ –≤—ã—Ö–æ–¥–∞: 0 –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, 1 –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìñ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ö–µ–º...
‚úÖ –°—Ö–µ–º—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã

üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...
   –ù–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª–æ–≤ models: 15
   –ù–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª–æ–≤ lengths: 120

üìã –í–∞–ª–∏–¥–∞—Ü–∏—è models...
   ‚úÖ vk-55-160-2–≥.json
   ‚úÖ vk-65-160-2–≥.json
   ...

üìè –í–∞–ª–∏–¥–∞—Ü–∏—è lengths...
   ‚úÖ vk-55-160-600-2–≥.json
   ‚ùå vk-55-160-700-2–≥.json
      - /length: must be >= 100
```

## 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–°–∫—Ä–∏–ø—Ç `scripts/test-data.mjs` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:

```bash
node scripts/test-data.mjs
```

### –ü—Ä–æ–≤–µ—Ä–∫–∏

#### 2.1. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —Å—Ö–µ–º–µ

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π `model.schema.json`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤—Å–µ—Ö –¥–ª–∏–Ω `length.schema.json`
- –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–ª—è –∏ —Å–æ–æ–±—â–µ–Ω–∏—è

#### 2.2. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å slug

**–î–ª—è –º–æ–¥–µ–ª–µ–π:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ slug –º–æ–¥–µ–ª–µ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã
- –í—ã—è–≤–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤

**–î–ª—è –¥–ª–∏–Ω:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ slug –¥–ª–∏–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã
- –í—ã—è–≤–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤

**–û—à–∏–±–∫–∞:**
```
‚ùå –î—É–±–ª–∏–∫–∞—Ç slug "vk-55-160-2–≥":
   - vk-55-160-2–≥.json
   - vk-55-160-2–≥-copy.json
```

#### 2.3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è length

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –¥–ª–∏–Ω—ã:
- `length` —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º
- `length` —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
- `length > 0`

**–û—à–∏–±–∫–∞:**
```
‚ùå vk-55-160-600-2–≥.json (slug: vk-55-160-600-2–≥): 
   –î–ª–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º, –ø–æ–ª—É—á–µ–Ω–æ: 600.5
```

#### 2.4. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–ª–∏–Ω—ã —É –º–æ–¥–µ–ª–µ–π

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ slug –∏–∑ –º–∞—Å—Å–∏–≤–∞ `lengths` –º–æ–¥–µ–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ñ–∞–π–ª–∞—Ö –¥–ª–∏–Ω.

**–û—à–∏–±–∫–∞:**
```
‚ùå –ú–æ–¥–µ–ª—å "vk-55-160-2–≥" (–í–ö.55.160.2–ì) —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â—É—é –¥–ª–∏–Ω—É "vk-55-160-800-2–≥"
   –§–∞–π–ª: vk-55-160-2–≥.json
```

### –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–°–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:

```
üìä –ò–¢–û–ì–ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
============================================================
Models: 15 –≤–∞–ª–∏–¥–Ω—ã—Ö, 0 –æ—à–∏–±–æ–∫ —Å—Ö–µ–º—ã
Lengths: 120 –≤–∞–ª–∏–¥–Ω—ã—Ö, 0 –æ—à–∏–±–æ–∫ —Å—Ö–µ–º—ã
–î—É–±–ª–∏–∫–∞—Ç—ã slug (models): 0
–î—É–±–ª–∏–∫–∞—Ç—ã slug (lengths): 0
–û—à–∏–±–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π length: 0
–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–ª–∏–Ω—ã: 0
–í—Å–µ–≥–æ –æ—à–∏–±–æ–∫: 0
============================================================
```

## 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–∞–π–ø–ª–∞–π–Ω

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è:

1. **–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ CSV ‚Üí JSON**
   ```bash
   node scripts/import-vitron-csv.mjs
   node scripts/test-data.mjs
   ```

2. **–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö**
   ```bash
   node scripts/validate-schema.mjs
   node scripts/test-data.mjs
   ```

3. **–í CI/CD –ø–∞–π–ø–ª–∞–π–Ω–µ**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏
   - –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–µ–ø–ª–æ–π

### –ö–æ–¥—ã –≤—ã—Ö–æ–¥–∞

- `0` ‚Äî –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- `1` ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ—à–∏–±–∫–∏

## 4. –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–µ–π

- `series` ‚Äî —Å–µ—Ä–∏—è (–ø–∞—Ç—Ç–µ—Ä–Ω: `^[A-Z–ê-–Ø0-9]+$`)
- `model_code` ‚Äî –∞—Ä—Ç–∏–∫—É–ª –º–æ–¥–µ–ª–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω: `^[A-Z–ê-–Ø0-9\\.]+$`)
- `slug` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–ø–∞—Ç—Ç–µ—Ä–Ω: `^[a-z0-9\\-\\.]+$`)
- `path` ‚Äî URL-–ø—É—Ç—å (–ø–∞—Ç—Ç–µ—Ä–Ω: `^/[a-z0-9\\-\\.]+(/[a-z0-9\\-\\.]+)*$`)
- `material` ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª (`enum: ["galvanized", "stainless", "none"]`)
- `meta` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: `version`, `updated`, `hash`)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª–∏–Ω

- `series` ‚Äî —Å–µ—Ä–∏—è
- `model_code` ‚Äî –∞—Ä—Ç–∏–∫—É–ª –º–æ–¥–µ–ª–∏
- `length` ‚Äî –¥–ª–∏–Ω–∞ –≤ –º–º (integer, 100-6000)
- `slug` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `path` ‚Äî URL-–ø—É—Ç—å
- `thermal.watt` ‚Äî —Ç–µ–ø–ª–æ–æ—Ç–¥–∞—á–∞ –≤ –≤–∞—Ç—Ç–∞—Ö (integer, >= 0)
- `price.side` ‚Äî —Ü–µ–Ω–∞ –±–æ–∫–æ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (integer, >= 0)
- `price.bottom` ‚Äî —Ü–µ–Ω–∞ –Ω–∏–∂–Ω–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (integer, >= 0)
- `meta` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- –í—Å–µ slug –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã –≤ —Ä–∞–º–∫–∞—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –í—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–ª–∏–Ω—ã –≤ –º–æ–¥–µ–ª—è—Ö –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
- –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã (`additionalProperties: false`)

